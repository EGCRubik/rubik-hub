{% extends 'base_template.html' %}

{% block title %}Authors and communities{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h1>Authors and communities</h1>
        <p>Below is a list of authors and communities available in the system.</p>
    </div>
</div>

<div class="row mt-4">
    <div class="col-md-6">
        <h2>Authors</h2>
        {% if authors %}
            <ul class="list-group">
            {% for a in authors %}
                <li class="list-group-item">
                    <strong>{{ a.name }}</strong>
                    <div class="small text-muted">
                        {% if a.affiliation %}{{ a.affiliation }}{% endif %}
                        {% if a.orcid %} â€” ORCID: {{ a.orcid }}{% endif %}
                    </div>
                </li>
            {% endfor %}
            </ul>
        {% else %}
            <p class="text-muted">No authors found.</p>
        {% endif %}
    </div>

    <div class="col-md-6">
        <h2>Communities</h2>
        {% if communities %}
            <ul class="list-group">
            {% for c in communities %}
                <li class="list-group-item">
                    <div>
                        <strong>Community #{{ c.id }}</strong>
                    </div>
                    <div class="small text-muted">
                        {%- for key, val in c.items() if key != 'id' -%}
                            <div>{{ key }}: {{ val }}</div>
                        {%- endfor -%}
                    </div>
                </li>
            {% endfor %}
            </ul>
        {% else %}
            <p class="text-muted">No communities found.</p>
        {% endif %}
    </div>
</div>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('authorsCommunities.scripts') }}"></script>
{% endblock %}
